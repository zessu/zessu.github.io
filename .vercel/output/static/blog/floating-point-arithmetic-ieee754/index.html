<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><script type="module" src="/_astro/BlogPost.astro_astro_type_script_index_0_lang.QzwEHHxv.js"></script><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.4.1"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://drew.is-a.dev/blog/floating-point-arithmetic-ieee754/"><!-- Primary Meta Tags --><title>Floating point Arithmetic IEEE 754</title><meta name="title" content="Floating point Arithmetic IEEE 754"><meta name="description" content="Why 0.1 + 0.2 = 0.30000000000000004"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://zessu.github.io/"><meta property="og:title" content="Floating point Arithmetic IEEE 754"><meta property="og:description" content="Why 0.1 + 0.2 = 0.30000000000000004"><meta property="og:image" content="https://drew.is-a.dev/blog-placeholder-1.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://twitter.com/amackzie"><meta property="twitter:title" content="Floating point Arithmetic IEEE 754"><meta property="twitter:description" content="Why 0.1 + 0.2 = 0.30000000000000004"><meta property="twitter:image" content="https://drew.is-a.dev/blog-placeholder-1.jpg"><script defer data-domain="drew.is-a.dev" src="https://plausible.io/js/script.js"></script><link rel="stylesheet" href="/_astro/_slug_.DLSZfAyv.css">
<style>.Btn[data-astro-cid-bvzihdzo]{height:25px;display:flex;align-items:center;justify-content:space-between;border:none;border-radius:5px;overflow:hidden;box-shadow:5px 5px 10px #00000017;cursor:pointer;background-color:transparent;padding:0}.leftContainer[data-astro-cid-bvzihdzo]{height:100%;background-color:#e00;display:flex;align-items:center;justify-content:center;padding:10px;gap:8px}.leftContainer[data-astro-cid-bvzihdzo] .like[data-astro-cid-bvzihdzo]{color:#fff;font-weight:600}.count[data-astro-cid-bvzihdzo]{height:100%;display:flex;align-items:center;justify-content:center;font-weight:600;position:relative;background-color:#fff;padding:5px;color:#e00}.Btn[data-astro-cid-bvzihdzo]:hover .leftContainer[data-astro-cid-bvzihdzo]{background-color:#db0000}.Btn[data-astro-cid-bvzihdzo]:active .leftContainer[data-astro-cid-bvzihdzo]{background-color:#c90000}.Btn[data-astro-cid-bvzihdzo]:active .leftContainer[data-astro-cid-bvzihdzo] svg[data-astro-cid-bvzihdzo]{transform:scale(1.15);transform-origin:top}div[data-astro-cid-bvzihdzo]#like-container{display:flex;align-items:center;justify-content:center}main[data-astro-cid-bvzihdzo]{width:calc(100% - 2em);max-width:100%;margin:0}.hero-image[data-astro-cid-bvzihdzo]{width:100%}.hero-image[data-astro-cid-bvzihdzo] img[data-astro-cid-bvzihdzo]{display:block;border-radius:12px;box-shadow:var(--box-shadow)}.prose[data-astro-cid-bvzihdzo]{width:720px;max-width:calc(100% - 2em);margin:auto;padding:1em;color:rgb(var(--gray-dark))}.title[data-astro-cid-bvzihdzo]{margin-bottom:1em;padding:1em 0;text-align:center;line-height:1}.title[data-astro-cid-bvzihdzo] h1[data-astro-cid-bvzihdzo]{margin:0 0 .5em}.date[data-astro-cid-bvzihdzo]{margin-bottom:.5em;color:rgb(var(--gray))}.last-updated-on[data-astro-cid-bvzihdzo]{font-style:italic}#sf-reading-progress-bar[data-astro-cid-bvzihdzo]{position:fixed;top:0;left:0;z-index:9999;width:0%;height:5px;background-color:#46a787;margin:0}
</style><script type="module" src="/_astro/page.DpYsPiLh.js"></script></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <div data-astro-cid-3ef6ksr2> <span id="name" style="color:#1e3a8a" data-astro-cid-3ef6ksr2>Andrew Makenzi</span> </div> <div class="internal-links" data-astro-cid-3ef6ksr2> <div data-astro-cid-3ef6ksr2> <a style="color: #1e3a8a" href="/" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> 🏠 Home </a>  <a style="color: #1e3a8a" href="/blog" class="active" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> 📝 Articles </a>  <a style="color: #1e3a8a" href="/about" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> 🌻 Photos </a>  </div> </div> <div data-astro-cid-3ef6ksr2> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://twitter.com/amackzie" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>Follow Me</span> <svg style="color:#1e3a8a;" viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-3ef6ksr2></path></svg> </a> <a href="https://github.com/zessu" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>Go to my github</span> <svg style="color: #1e3a8a;" viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path></svg> </a> </div> </div> </nav> </header>  <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <div class="prose" data-astro-cid-bvzihdzo> <div class="title" data-astro-cid-bvzihdzo> <div class="date" data-astro-cid-bvzihdzo> <time datetime="2025-01-30T21:00:00.000Z"> Jan 31, 2025 </time>  </div> <h2 data-astro-cid-bvzihdzo>Floating point Arithmetic IEEE 754</h2> <div id="like-container" data-astro-cid-bvzihdzo> <button class="Btn" data-astro-cid-bvzihdzo> <span class="leftContainer" id="increaseCount" data-astro-cid-bvzihdzo> <svg fill="white" viewBox="0 0 512 512" height="1em" xmlns="http://www.w3.org/2000/svg" data-astro-cid-bvzihdzo><path d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z" data-astro-cid-bvzihdzo></path></svg> <span class="like" data-astro-cid-bvzihdzo>Like</span> </span> <span class="count" id="like-count" data-astro-cid-bvzihdzo> 0 likes </span> <span class="count" id="read-count" data-astro-cid-bvzihdzo> 1 reads </span> </button> </div> </div> <hr data-astro-cid-bvzihdzo> <div id="sf-reading-progress-bar" data-astro-cid-bvzihdzo></div>  <p>Why is the result of <code>0.1 + 0.2</code> <code>0.30000000000000004</code> instead of <code>0.3</code>?</p>
<p>To understand this we need to cover some preliminaries first. Human beings tend to think in decimal, and it’s obvious to us that 0.1 + 0.2 = 0.3. However, computers represent numbers in binary.</p>
<p>In any number system e.g <em>base 10, base 2</em>, fractions are represented as sums of powers of the base.
In base 10, fractions are powers of 10 e.g 3/10 = 3 * 10^-1
In base 2, fractions are sums powers of 2. e.g 1/2 = 1 * 2^-1</p>
<p>Here’s a general rule, <strong>a fraction in any number system can be represented accurately if the denominator of the fraction has prime factors that are also <a href="https://byjus.com/maths/prime-factorization/">prime factors</a> of the base.</strong></p>
<p><em>1/2, 1/4, 1/5, 1/10</em> can be represented accurately in <strong>base 10</strong> because the denominators 2, 4, 5, 10 include prime factors of 10(2&#x26;5) while 1/3 or 1/7 or 1/6 cannot.</p>
<p><em>1/2</em> can be represented perfectly in binary but <em>1/10</em> cannot. The denominator 10, has prime factors 2 and 5, 2 is present in the factors of 2 i.e only 2 but 5 is not. Because of this, there will be some recursion when trying to represent 1/10 in binary.</p>
<p>To convert <code>0.1</code> to binary, we repeatedly multiply the fractional part by <code>2</code> and take the integer part of the result as the next binary digit. <a href="https://www.youtube.com/shorts/RBt2vtcPsC8">How to convert Decimal to Binary</a>)
1. <code>0.1 × 2 = 0.2</code> → integer part = <code>0</code>, fractional part = <code>0.2</code>
2. <code>0.2 × 2 = 0.4</code> → integer part = <code>0</code>, fractional part = <code>0.4</code>
3. <code>0.4 × 2 = 0.8</code> → integer part = <code>0</code>, fractional part = <code>0.8</code>
4. <code>0.8 × 2 = 1.6</code> → integer part = <code>1</code>, fractional part = <code>0.6</code>
5. <code>0.6 × 2 = 1.2</code> → integer part = <code>1</code>, fractional part = <code>0.2</code>
6. <code>0.2 × 2 = 0.4</code> → integer part = <code>0</code>, fractional part = <code>0.4</code>
7. <code>0.4 × 2 = 0.8</code> → integer part = <code>0</code>, fractional part = <code>0.8</code>
8. <code>0.8 × 2 = 1.6</code> → integer part = <code>1</code>, fractional part = <code>0.6</code>
9. And so on…</p>
<p>This recursion has to be approximated because computers have limited memory and have to use a certain number of bits to represent integers or floats e.g <em>64 bits</em>. Same way humans round 1/3(base 10) to something like 0.333.</p>
<p>0.1 in binary works out to about <strong>00001100110011001100110011001100110011001100110011</strong> but we know computers store numbers in memory as 0000 no decimal points, just a 0 or a 1 in the memory location. Assuming 8 bits, we would represent 1 &#x26; 2 as:</p>
<pre class="astro-code astro-code-themes synthwave-84 dracula" style="background-color:#262335;--shiki-dark-bg:#282A36;color:#bbbbbb;--shiki-dark:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>1 -> 0000 0001</span></span>
<span class="line"><span>2 -> 0000 0010</span></span></code></pre>
<p>So how do we represent a number like 0.000001?</p>
<p>There’s a standard for how computers represent floating point numbers <a href="%5BIEEE754.PDF%5D(https://people.eecs.berkeley.edu/~wkahan/ieee754status/IEEE754.PDF)">IEEE 754</a>.  This standard works by dividing floating numbers into three parts: <strong>A sign bit, 11 exponent bits and 52 mantissa bits</strong> for a 64 bit computer.</p>
<p>The sign bit represents whether the number is <em>+ve or -ve</em>, the exponent represents how many times we should move the decimal to the right side of the mantissa, the mantissa represents the floating point bit.</p>
<p>The binary representation of 0.1 <code>0.0001100110011001100110011001100110011001100110011</code></p>
<p>Using IEEE754 standard we store this as:</p>
<pre class="astro-code astro-code-themes synthwave-84 dracula" style="background-color:#262335;--shiki-dark-bg:#282A36;color:#bbbbbb;--shiki-dark:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#FF7EDB;--shiki-dark:#F8F8F2">sign</span><span style="color:#FE4450;--shiki-dark:#F8F8F2"> bit</span><span style="color:#BBBBBB;--shiki-dark:#F8F8F2"> : </span><span style="color:#F97E72;--shiki-dark:#BD93F9">0</span></span>
<span class="line"><span style="color:#FE4450;--shiki-dark:#F8F8F2">exponent</span><span style="color:#BBBBBB;--shiki-dark:#F8F8F2">: </span><span style="color:#FEDE5D;--shiki-dark:#FF79C6">-</span><span style="color:#F97E72;--shiki-dark:#BD93F9">4</span><span style="color:#FEDE5D;--shiki-dark:#FF79C6"> +</span><span style="color:#F97E72;--shiki-dark:#BD93F9"> 1024</span><span style="color:#FFFFFFEE;--shiki-dark:#FF79C6"> =</span><span style="color:#F97E72;--shiki-dark:#BD93F9"> 1019</span><span style="color:#FFFFFFEE;--shiki-dark:#FF79C6"> =</span><span style="color:#F97E72;--shiki-dark:#BD93F9"> 01111111011</span><span style="color:#BBBBBB;--shiki-dark:#F8F8F2"> (</span><span style="color:#FEDE5D;--shiki-dark:#FF79C6">in</span><span style="color:#FF7EDB;--shiki-dark:#F8F8F2"> binary</span><span style="color:#BBBBBB;--shiki-dark:#F8F8F2">)</span></span>
<span class="line"><span style="color:#FF7EDB;--shiki-dark:#F8F8F2">mantissa</span><span style="color:#FFFFFFEE;--shiki-dark:#FF79C6"> =</span><span style="color:#F97E72;--shiki-dark:#BD93F9"> 1001100110011001100110011001100110011001100110011010</span></span></code></pre>
<p>The 1024 is added to the exponent. It’s called a biased exponent and helps computers simplify calculations. For why they chose this over two’s complement read <a href="https://stackoverflow.com/questions/19864749/why-do-we-bias-the-exponent-of-a-floating-point-number">ieee 754 - Why do we bias the exponent of a floating-point number? - Stack Overflow</a></p>
<p>So the <em>IEEE754</em> number interpreted gives
<code>1.1001100110011001100110011001100110011001100110011010 * 2^-4</code>
which is approximately
<code>0.1000000000000000055511151231257827021181583404541015625</code></p>
<p>hence why <strong>0.1+0.2=0.30000000000000004</strong></p>
<p>If you need to handle floating point arithmetic accurately use libraries like <a href="https://github.com/MikeMcl/decimal.js/">Decimal.js: An arbitrary-precision Decimal type for JavaScript</a></p>
<h4 id="references">References</h4>
<hr>
<p><a href="https://www.youtube.com/watch?v=PZRI1IfStY0">Floating Point Numbers - Computerphile</a><br>
<a href="https://www.h-schmidt.net/FloatConverter/IEEE754.html">IEEE-754 Floating Point Converter</a><br>
<a href="https://byjus.com/maths/prime-factorization/">Prime Factorization - Definition, Methods, Examples, Prime Factorize</a><br>
<a href="https://www.geeksforgeeks.org/ieee-standard-754-floating-point-numbers/">IEEE Standard 754 Floating Point Numbers - GeeksforGeeks</a><br>
<a href="https://people.eecs.berkeley.edu/~wkahan/ieee754status/IEEE754.PDF">IEEE754.PDF</a><br>
<a href="https://www.youtube.com/shorts/RBt2vtcPsC8">(3) Decimal Fraction to Binary Convert - YouTube</a><br>
<a href="https://stackoverflow.com/questions/19864749/why-do-we-bias-the-exponent-of-a-floating-point-number">ieee 754 - Why do we bias the exponent of a floating-point number? - Stack Overflow</a></p>  </div> </article> </main> <div id="data-container" data-likes="0" data-reads="1" data-hash="44901cdf409b45fb48342cd82a9fbe5feaf8dc9f9deb2527fa64e546c7771066" data-astro-cid-bvzihdzo></div> <footer data-astro-cid-sz7xmlte>
&copy; 2025 Andrew Makenzi. All rights reserved.
<div class="social-links" data-astro-cid-sz7xmlte> <a href="https://twitter.com/amackzie" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Follow Me on Twitter</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/twitter" data-astro-cid-sz7xmlte><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://github.com/zessu" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Check out my github</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" data-astro-cid-sz7xmlte><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> </div> </footer>  <script type="module" src="/_astro/BlogPost.astro_astro_type_script_index_1_lang.BtOU-HKl.js"></script> </body> </html>